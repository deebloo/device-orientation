<script>
    Polymer({
        is: 'device-orientation',
        properties: {
            lr: {
                type: Number,
                reflectToAttribute: true,
                notify: true,
                value: 0
            },
            fb: {
                type: Number,
                reflectToAttribute: true,
                notify: true,
                value: 0
            },
            direction: {
                type: Number,
                reflectToAttribute: true,
                notify: true,
                value: 0
            }
        },
        ready: function () {
            window.addEventListener('deviceorientation', this.updateOrientation.bind(this));
        },
        detached: function () {
            window.removeEventListener('deviceorientation', this.updateOrientation.bind(this))
        },
        attributeChanged: function () {
          if(this.orientationChanged) {
              this.orientationChanged();
          }
        },
        updateOrientation: function (e) {
            this.lr = e.gamma;
            this.fb = e.beta;
            this.direction = e.alpha;
        }
    });
</script>